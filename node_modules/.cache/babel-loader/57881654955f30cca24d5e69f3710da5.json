{"ast":null,"code":"var _jsxFileName = \"/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      rows: 6,\n      columns: 7,\n      moves: [],\n      playerTurn: 'red'\n    };\n\n    this.resetBoard = () => {\n      this.setState({\n        moves: [],\n        winner: null\n      });\n    };\n\n    this.getPiece = (x, y) => {\n      const list = this.state.moves.filter(item => {\n        return item.x === x && item.y === y;\n      });\n      return list[0];\n    };\n\n    this.getWinningMovesForVelocity = (xPosition, yPosition, xVelocity, yVelocity) => {\n      const winningMoves = [{\n        x: xPosition,\n        y: yPosition\n      }];\n      const player = this.getPiece(xPosition, yPosition).player;\n\n      for (let delta = 1; delta <= 3; delta += 1) {\n        const checkX = xPosition + xVelocity * delta;\n        const checkY = yPosition + yVelocity * delta;\n        const checkPiece = this.getPiece(checkX, checkY);\n\n        if (checkPiece && checkPiece.player === player) {\n          winningMoves.push({\n            x: checkX,\n            y: checkY\n          });\n        } else {\n          break;\n        }\n      }\n\n      for (let delta = -1; delta >= 3; delta -= 1) {\n        const checkX = xPosition + xVelocity * delta;\n        const checkY = yPosition + yVelocity * delta;\n        const checkPiece = this.getPiece(checkX, checkY);\n\n        if (checkPiece && checkPiece.player === player) {\n          winningMoves.push({\n            x: checkX,\n            y: checkY\n          });\n        } else {\n          break;\n        }\n      }\n\n      return winningMoves;\n    };\n\n    this.checkForWin = (x, y) => {\n      const velocities = [{\n        x: 1,\n        y: 0\n      }, {\n        x: 0,\n        y: 1\n      }, {\n        x: -1,\n        y: 1\n      }, {\n        x: 1,\n        y: 1\n      }];\n\n      for (let dex = 0; dex < velocities.length; dex++) {\n        const element = velocites[dex];\n        const winningMoves = this.getWinningMovesForVelocity(x, y, element.x, element.y);\n\n        if (winningMoves.length > 3) {\n          this.setState({\n            winner: this.getPiece(x, y).player,\n            winningMoves\n          });\n        }\n      }\n    };\n\n    this.addMove = (x, y) => {\n      const {\n        playerTurn\n      } = this.state;\n      const nextPlayerTurn = playerTurn === 'red' ? 'yellow' : 'red';\n      let availableYPosition = null;\n\n      for (let position = this.state.rows - 1; position >= 0; position--) {\n        if (!this.getPiece(x, position)) {\n          availableYPosition = position;\n          break;\n        }\n      }\n\n      if (availableYPosition !== null) {\n        this.setState({\n          moves: this.state.moves.concat({\n            x,\n            y: availableYPosition,\n            player: playerTurn\n          }),\n          playerTurn: nextPlayerTurn\n        }, () => this.checkForWin(x, availableYPosition, playerTurn));\n      }\n    };\n  }\n\n  renderBoard() {\n    const {\n      rows,\n      columns,\n      winner\n    } = this.state;\n    const rowViews = [];\n\n    for (let row = 0; row < this.state.rows; row += 1) {\n      const columnViews = [];\n\n      for (let column = 0; column < this.state.columns; column += 1) {\n        const piee = this.getPiece(column, row);\n        columnViews.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 100,\n            height: 100,\n            backgroundColor: 'white',\n            border: '1px solid #333'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 26\n        }, this));\n      }\n\n      rowViews.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row'\n        },\n        children: columnViews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'red',\n        display: 'flex',\n        flexDirection: 'column'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    const {\n      style\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style ? Object.assign({}, styles.container, style) : styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.renderBoard()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nconst styles = {\n  contatainer: {\n    height: '100%',\n    padding: 5,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n};","map":{"version":3,"sources":["/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/src/App.js"],"names":["React","App","Component","state","rows","columns","moves","playerTurn","resetBoard","setState","winner","getPiece","x","y","list","filter","item","getWinningMovesForVelocity","xPosition","yPosition","xVelocity","yVelocity","winningMoves","player","delta","checkX","checkY","checkPiece","push","checkForWin","velocities","dex","length","element","velocites","addMove","nextPlayerTurn","availableYPosition","position","concat","renderBoard","rowViews","row","columnViews","column","piee","width","height","backgroundColor","border","display","flexDirection","render","style","props","Object","assign","styles","container","contatainer","padding","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\nexport default class App extends React.Component {\n  state = {\n    rows: 6,\n    columns: 7,\n    moves: [],\n    playerTurn: 'red'\n  };\n\n  resetBoard = () => {\n    this.setState({\n      moves: [], winner: null\n    });\n  }\n\n  getPiece = (x, y) => {\n    const list = this.state.moves.filter((item) => {\n      return item.x === x && item.y === y;\n    });\n    return list[0];\n  }\n\n  getWinningMovesForVelocity = (xPosition, yPosition, xVelocity, yVelocity) => {\n    const winningMoves = [{x: xPosition, y: yPosition}];\n    const player = this.getPiece(xPosition, yPosition).player;\n\n    for (let delta = 1; delta <= 3; delta += 1) {\n      const checkX = xPosition + xVelocity * delta;\n      const checkY = yPosition + yVelocity * delta;\n\n      const checkPiece = this.getPiece(checkX, checkY);\n      if (checkPiece && checkPiece.player === player) {\n        winningMoves.push({x: checkX, y: checkY})\n      } else {\n        break;\n      }\n    }\n\n    for (let delta = -1; delta >= 3; delta -= 1) {\n      const checkX = xPosition + xVelocity * delta;\n      const checkY = yPosition + yVelocity * delta;\n\n      const checkPiece = this.getPiece(checkX, checkY);\n      if (checkPiece && checkPiece.player === player) {\n        winningMoves.push({x: checkX, y: checkY})\n      } else {\n        break;\n      }\n    }\n    return winningMoves;\n  }\n\n  checkForWin = (x, y) => {\n    const velocities = [{x: 1, y: 0}, {x: 0, y: 1}, {x: -1, y: 1}, {x: 1, y: 1}]\n    for (let dex = 0; dex < velocities.length; dex++) {\n      const element = velocites[dex];\n      const winningMoves = this.getWinningMovesForVelocity(x, y, element.x, element.y);\n      if (winningMoves.length > 3) {\n        this.setState({winner: this.getPiece(x, y).player, winningMoves});\n      }\n    }\n  }\n\n  addMove = (x, y) => {\n    const {playerTurn} = this.state;\n    const nextPlayerTurn = playerTurn === 'red' ? 'yellow' : 'red';\n    let availableYPosition = null;\n    for (let position = this.state.rows - 1; position >= 0; position--) {\n      if (!this.getPiece(x, position)) {\n        availableYPosition = position;\n       break;\n      }\n    }\n    if (availableYPosition !== null) {\n     this.setState({moves: this.state.moves.concat({x, y: availableYPosition, player: playerTurn}), playerTurn: nextPlayerTurn},\n      () => this.checkForWin(x, availableYPosition, playerTurn))\n    }\n  }\n\n  renderBoard() {\n    const {rows, columns, winner} = this.state;\n    const rowViews = [];\n  \n    for (let row = 0; row < this.state.rows; row += 1) {\n      const columnViews = [];\n      for (let column = 0; column < this.state.columns; column += 1) {\n        const piee = this.getPiece(column, row);\n        columnViews.push(<div style = {{ width: 100, height: 100, backgroundColor: 'white', border: '1px solid #333' }}></div>);\n      }\n      rowViews.push(<div style = {{ display: 'flex', flexDirection: 'row'}}>{columnViews}</div>);\n    }\n  \n    return (<div style = {{ backgroundColor: 'red', display: 'flex', flexDirection: 'column'}}></div>);\n  }\n  \n  render() {\n    const { style } = this.props;\n    return (<div style = {style ? Object.assign({}, styles.container, style) : styles.container}>\n      <div>{this.renderBoard()}</div>\n    </div>);\n  }\n}\n\nconst styles = {\n    contatainer: {\n    height: '100%',\n    padding: 5,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n};\n"]},"metadata":{},"sourceType":"module"}