{"ast":null,"code":"import _classCallCheck from\"/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rows:6,columns:7,moves:[],playerTurn:'red'};_this.resetBoard=function(){_this.setState({moves:[],winner:null});};_this.getPiece=function(x,y){var list=_this.state.moves.filter(function(item){return item.x===x&&item.y===y;});return list[0];};_this.getWinningMovesForVelocity=function(xPosition,yPosition,xVelocity,yVelocity){var winningMoves=[{x:xPosition,y:yPosition}];var player=_this.getPiece(xPosition,yPosition).player;for(var delta=1;delta<=3;delta+=1){var checkX=xPosition+xVelocity*delta;var checkY=yPosition+yVelocity*delta;var checkPiece=_this.getPiece(checkX,checkY);if(checkPiece&&checkPiece.player===player){winningMoves.push({x:checkX,y:checkY});}else{break;}}for(var _delta=-1;_delta>=3;_delta-=1){var _checkX=xPosition+xVelocity*_delta;var _checkY=yPosition+yVelocity*_delta;var _checkPiece=_this.getPiece(_checkX,_checkY);if(_checkPiece&&_checkPiece.player===player){winningMoves.push({x:_checkX,y:_checkY});}else{break;}}return winningMoves;};_this.checkForWin=function(x,y){var velocities=[{x:1,y:0},{x:0,y:1},{x:-1,y:1},{x:1,y:1}];for(var dex=0;dex<velocities.length;dex++){var element=velocities[dex];var winningMoves=_this.getWinningMovesForVelocity(x,y,element.x,element.y);if(winningMoves.length>3){_this.setState({winner:_this.getPiece(x,y).player,winningMoves:winningMoves});}}};_this.addMove=function(x,y){var playerTurn=_this.state.playerTurn;var nextPlayerTurn=playerTurn==='red'?'yellow':'red';var availableYPosition=null;for(var position=_this.state.rows-1;position>=0;position--){if(!_this.getPiece(x,position)){availableYPosition=position;break;}}if(availableYPosition!==null){_this.setState({moves:_this.state.moves.concat({x:x,y:availableYPosition,player:playerTurn}),playerTurn:nextPlayerTurn},function(){return _this.checkForWin(x,availableYPosition,playerTurn);});}};return _this;}_createClass(App,[{key:\"renderBoard\",value:function renderBoard(){var _this$state=this.state,rows=_this$state.rows,columns=_this$state.columns,winner=_this$state.winner;var rowViews=[];for(var row=0;row<this.state.rows;row+=1){var columnViews=[];for(var column=0;column<this.state.columns;column+=1){var piee=this.getPiece(column,row);columnViews.push(/*#__PURE__*/_jsx(\"div\",{style:{width:100,height:100,backgroundColor:'white',border:'1px solid #333'}}));}rowViews.push(/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row'},children:columnViews}));}return/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'red',display:'flex',flexDirection:'column'}});}},{key:\"render\",value:function render(){var style=this.props.style;return/*#__PURE__*/_jsx(\"div\",{style:style?Object.assign({},styles.container,style):styles.container,children:/*#__PURE__*/_jsx(\"div\",{children:this.renderBoard()})});}}]);return App;}(React.Component);export{App as default};var styles={contatainer:{height:'100%',padding:5,display:'flex',justifyContent:'center',alignItems:'center'}};","map":{"version":3,"sources":["/Users/adrian/Documents/GitHub/lab2-adriangramatke/connect4/src/App.js"],"names":["React","App","state","rows","columns","moves","playerTurn","resetBoard","setState","winner","getPiece","x","y","list","filter","item","getWinningMovesForVelocity","xPosition","yPosition","xVelocity","yVelocity","winningMoves","player","delta","checkX","checkY","checkPiece","push","checkForWin","velocities","dex","length","element","addMove","nextPlayerTurn","availableYPosition","position","concat","rowViews","row","columnViews","column","piee","width","height","backgroundColor","border","display","flexDirection","style","props","Object","assign","styles","container","renderBoard","Component","contatainer","padding","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\nexport default class App extends React.Component {\n  state = {\n    rows: 6,\n    columns: 7,\n    moves: [],\n    playerTurn: 'red'\n  };\n\n  resetBoard = () => {\n    this.setState({\n      moves: [], winner: null\n    });\n  }\n\n  getPiece = (x, y) => {\n    const list = this.state.moves.filter((item) => {\n      return item.x === x && item.y === y;\n    });\n    return list[0];\n  }\n\n  getWinningMovesForVelocity = (xPosition, yPosition, xVelocity, yVelocity) => {\n    const winningMoves = [{x: xPosition, y: yPosition}];\n    const player = this.getPiece(xPosition, yPosition).player;\n\n    for (let delta = 1; delta <= 3; delta += 1) {\n      const checkX = xPosition + xVelocity * delta;\n      const checkY = yPosition + yVelocity * delta;\n\n      const checkPiece = this.getPiece(checkX, checkY);\n      if (checkPiece && checkPiece.player === player) {\n        winningMoves.push({x: checkX, y: checkY})\n      } else {\n        break;\n      }\n    }\n\n    for (let delta = -1; delta >= 3; delta -= 1) {\n      const checkX = xPosition + xVelocity * delta;\n      const checkY = yPosition + yVelocity * delta;\n\n      const checkPiece = this.getPiece(checkX, checkY);\n      if (checkPiece && checkPiece.player === player) {\n        winningMoves.push({x: checkX, y: checkY})\n      } else {\n        break;\n      }\n    }\n    return winningMoves;\n  }\n\n  checkForWin = (x, y) => {\n    const velocities = [{x: 1, y: 0}, {x: 0, y: 1}, {x: -1, y: 1}, {x: 1, y: 1}]\n    for (let dex = 0; dex < velocities.length; dex++) {\n      const element = velocities[dex];\n      const winningMoves = this.getWinningMovesForVelocity(x, y, element.x, element.y);\n      if (winningMoves.length > 3) {\n        this.setState({winner: this.getPiece(x, y).player, winningMoves});\n      }\n    }\n  }\n\n  addMove = (x, y) => {\n    const {playerTurn} = this.state;\n    const nextPlayerTurn = playerTurn === 'red' ? 'yellow' : 'red';\n    let availableYPosition = null;\n    for (let position = this.state.rows - 1; position >= 0; position--) {\n      if (!this.getPiece(x, position)) {\n        availableYPosition = position;\n       break;\n      }\n    }\n    if (availableYPosition !== null) {\n     this.setState({moves: this.state.moves.concat({x, y: availableYPosition, player: playerTurn}), playerTurn: nextPlayerTurn},\n      () => this.checkForWin(x, availableYPosition, playerTurn))\n    }\n  }\n\n  renderBoard() {\n    const {rows, columns, winner} = this.state;\n    const rowViews = [];\n  \n    for (let row = 0; row < this.state.rows; row += 1) {\n      const columnViews = [];\n      for (let column = 0; column < this.state.columns; column += 1) {\n        const piee = this.getPiece(column, row);\n        columnViews.push(<div style = {{ width: 100, height: 100, backgroundColor: 'white', border: '1px solid #333' }}></div>);\n      }\n      rowViews.push(<div style = {{ display: 'flex', flexDirection: 'row'}}>{columnViews}</div>);\n    }\n  \n    return (<div style = {{ backgroundColor: 'red', display: 'flex', flexDirection: 'column'}}></div>);\n  }\n  \n  render() {\n    const { style } = this.props;\n    return (<div style = {style ? Object.assign({}, styles.container, style) : styles.container}>\n      <div>{this.renderBoard()}</div>\n    </div>);\n  }\n}\n\nconst styles = {\n    contatainer: {\n    height: '100%',\n    padding: 5,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n};\n"]},"metadata":{},"sourceType":"module"}